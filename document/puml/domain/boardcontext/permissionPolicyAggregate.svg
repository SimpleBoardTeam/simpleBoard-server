<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="722px" preserveAspectRatio="none" style="width:427px;height:722px;background:#FFFFFF;" version="1.1" viewBox="0 0 427 722" width="427px" zoomAndPan="magnify"><defs/><g><!--cluster permissionPolicy--><g class="cluster" data-entity="permissionPolicy" data-source-line="1" data-uid="ent0002" id="cluster_permissionPolicy"><path d="M8.5,6 L143.2588,6 A3.75,3.75 0 0 1 145.7588,8.5 L152.7588,28.2969 L417.5,28.2969 A2.5,2.5 0 0 1 420,30.7969 L420,712.5 A2.5,2.5 0 0 1 417.5,715 L8.5,715 A2.5,2.5 0 0 1 6,712.5 L6,8.5 A2.5,2.5 0 0 1 8.5,6" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="152.7588" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="133.7588" x="10" y="20.9951">permissionPolicy</text></g><!--class PermissionPolicy--><g class="entity" data-entity="PermissionPolicy" data-source-line="2" data-uid="ent0003" id="entity_PermissionPolicy"><rect fill="#F1F1F1" height="137.75" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="381.9336" x="22" y="41"/><ellipse cx="150.2046" cy="61.1328" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M153.1733,66.7734 Q152.5952,67.0703 151.9546,67.2109 Q151.314,67.3672 150.6108,67.3672 Q148.1108,67.3672 146.7827,65.7266 Q145.4702,64.0703 145.4702,60.9453 Q145.4702,57.8203 146.7827,56.1641 Q148.1108,54.5078 150.6108,54.5078 Q151.314,54.5078 151.9546,54.6641 Q152.6108,54.8203 153.1733,55.1172 L153.1733,57.8359 Q152.5483,57.2578 151.9546,56.9922 Q151.3608,56.7109 150.7358,56.7109 Q149.3921,56.7109 148.7046,57.7891 Q148.0171,58.8516 148.0171,60.9453 Q148.0171,63.0391 148.7046,64.1172 Q149.3921,65.1797 150.7358,65.1797 Q151.3608,65.1797 151.9546,64.9141 Q152.5483,64.6328 153.1733,64.0547 L153.1733,66.7734 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="109.1719" x="174.6309" y="57.1387">&#171;Aggregate Root&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.0244" x="170.7046" y="72.9639">PermissionPolicy</text><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="402.9336" y1="81.2656" y2="81.2656"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="30" y="91.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.2646" x="42" y="98.2607">Long boardId</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="30" y="108.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="348.8242" x="42" y="114.5576">List&lt;ManagerAssignment&gt; managerAssignments</text><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="402.9336" y1="121.8594" y2="121.8594"/><ellipse cx="33" cy="135.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="344.9277" x="42" y="138.8545">boolean can(Long userId, Permission permission)</text><ellipse cx="33" cy="151.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="270.2041" x="42" y="155.1514">assignManager(Long userId, Role role)</text><ellipse cx="33" cy="168.1016" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="355.9336" x="42" y="171.4482">delegate(Long from, UserId to, RoleType roleType)</text></g><!--class ManagerAssignment--><g class="entity" data-entity="ManagerAssignment" data-source-line="10" data-uid="ent0004" id="entity_ManagerAssignment"><rect fill="#F1F1F1" height="137.75" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="355.752" x="35" y="239"/><ellipse cx="136.729" cy="259.1328" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M140.8384,265.1328 L133.1196,265.1328 L133.1196,252.7422 L140.8384,252.7422 L140.8384,254.8984 L135.5728,254.8984 L135.5728,257.5703 L140.3384,257.5703 L140.3384,259.7266 L135.5728,259.7266 L135.5728,262.9766 L140.8384,262.9766 L140.8384,265.1328 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49.8457" x="204.2031" y="255.1387">&#171;Entity&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.7939" x="157.229" y="270.9639">ManagerAssignment</text><line style="stroke:#181818;stroke-width:0.5;" x1="36" x2="389.752" y1="279.2656" y2="279.2656"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="43" y="289.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196.9434" x="55" y="296.2607">Long managerAssignmentId</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="43" y="306.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.127" x="55" y="312.5576">Long userId</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="43" y="322.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.0703" x="55" y="328.8545">Role role</text><line style="stroke:#181818;stroke-width:0.5;" x1="36" x2="389.752" y1="336.1563" y2="336.1563"/><ellipse cx="46" cy="349.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="236.2842" x="55" y="353.1514">boolean isSameUser(Long userId)</text><ellipse cx="46" cy="366.1016" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="329.752" x="55" y="369.4482">boolean hasPermission(Permission permission)</text></g><!--class Role--><g class="entity" data-entity="Role" data-source-line="18" data-uid="ent0005" id="entity_Role"><rect fill="#F1F1F1" height="105.1563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="355.752" x="35" y="437"/><ellipse cx="164.8291" cy="457.1328" fill="#F1F1F1" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M164.3135,457.6953 Q162.4541,456.9922 161.7979,456.2266 Q161.1572,455.4453 161.1572,454.1328 Q161.1572,452.4453 162.2354,451.4766 Q163.3135,450.5078 165.1885,450.5078 Q166.0479,450.5078 166.8916,450.7109 Q167.751,450.8984 168.5947,451.2891 L168.5947,453.6797 Q167.8135,453.1172 166.9854,452.8359 Q166.1729,452.5391 165.376,452.5391 Q164.501,452.5391 164.0166,452.8984 Q163.5479,453.2578 163.5479,453.9141 Q163.5479,454.4297 163.8916,454.7734 Q164.2354,455.1016 165.3291,455.5078 L166.3916,455.9141 Q167.876,456.4609 168.5791,457.3672 Q169.2979,458.2734 169.2979,459.6484 Q169.2979,461.5234 168.1885,462.4453 Q167.0791,463.3672 164.8291,463.3672 Q163.9072,463.3672 162.9854,463.1484 Q162.0635,462.9297 161.2041,462.5078 L161.2041,459.9766 Q162.1729,460.6641 163.0947,461.0078 Q164.0166,461.3516 164.9072,461.3516 Q165.8135,461.3516 166.3135,460.9453 Q166.8135,460.5234 166.8135,459.7891 Q166.8135,459.2266 166.4697,458.8203 Q166.1416,458.3984 165.5166,458.1484 L164.3135,457.6953 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="91.5938" x="183.3291" y="453.1387">&#171;Value Object&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.7959" x="213.728" y="468.9639">Role</text><line style="stroke:#181818;stroke-width:0.5;" x1="36" x2="389.752" y1="477.2656" y2="477.2656"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="43" y="487.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7441" x="55" y="494.2607">RoleType roleType</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="43" y="504.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211.1484" x="55" y="510.5576">Set&lt;Permission&gt; permissions</text><line style="stroke:#181818;stroke-width:0.5;" x1="36" x2="389.752" y1="517.8594" y2="517.8594"/><ellipse cx="46" cy="531.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="329.752" x="55" y="534.8545">boolean hasPermission(Permission permission)</text></g><!--class RoleType--><g class="entity" data-entity="RoleType" data-source-line="24" data-uid="ent0006" id="entity_RoleType"><rect fill="#F1F1F1" height="96.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.8613" x="63.5" y="602"/><ellipse cx="97.2778" cy="618" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M101.3872,624 L93.6685,624 L93.6685,611.6094 L101.3872,611.6094 L101.3872,613.7656 L96.1216,613.7656 L96.1216,616.4375 L100.8872,616.4375 L100.8872,618.5938 L96.1216,618.5938 L96.1216,621.8438 L101.3872,621.8438 L101.3872,624 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.1328" x="115.4507" y="622.8467">RoleType</text><line style="stroke:#181818;stroke-width:0.5;" x1="64.5" x2="201.3613" y1="634" y2="634"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.1875" x="69.5" y="650.9951">SUPER_ADMIN</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.8613" x="69.5" y="667.292">COMMENT_ADMIN</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.9385" x="69.5" y="683.5889">POST_ADMIN</text><line style="stroke:#181818;stroke-width:0.5;" x1="64.5" x2="201.3613" y1="690.8906" y2="690.8906"/></g><!--class Permission--><g class="entity" data-entity="Permission" data-source-line="30" data-uid="ent0007" id="entity_Permission"><rect fill="#F1F1F1" height="80.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.0322" x="237.5" y="610"/><ellipse cx="260.0498" cy="626" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M264.1592,632 L256.4404,632 L256.4404,619.6094 L264.1592,619.6094 L264.1592,621.7656 L258.8936,621.7656 L258.8936,624.4375 L263.6592,624.4375 L263.6592,626.5938 L258.8936,626.5938 L258.8936,629.8438 L264.1592,629.8438 L264.1592,632 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.2549" x="275.7275" y="630.8467">Permission</text><line style="stroke:#181818;stroke-width:0.5;" x1="238.5" x2="361.5322" y1="642" y2="642"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.3779" x="243.5" y="658.9951">DELETE_BOARD</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.0322" x="243.5" y="675.292">CREATE_BOARD</text><line style="stroke:#181818;stroke-width:0.5;" x1="238.5" x2="361.5322" y1="682.5938" y2="682.5938"/></g><!--reverse link PermissionPolicy to ManagerAssignment--><g class="link" data-entity-1="PermissionPolicy" data-entity-2="ManagerAssignment" data-source-line="35" data-uid="lnk8" id="link_PermissionPolicy_ManagerAssignment"><path codeLine="35" d="M213,191 C213,210.35 213,219.43 213,238.79" fill="none" id="PermissionPolicy-backto-ManagerAssignment" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="213,179,209,185,213,191,217,185,213,179" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="204.6049" y="198.9757">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="6.5" x="206.7292" y="227.9659">*</text></g><!--link ManagerAssignment to Role--><g class="link" data-entity-1="ManagerAssignment" data-entity-2="Role" data-source-line="36" data-uid="lnk9" id="link_ManagerAssignment_Role"><path codeLine="36" d="M213,377.12 C213,396.95 213,412.29 213,430.92" fill="none" id="ManagerAssignment-to-Role" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="213,436.92,217,427.92,213,431.92,209,427.92,213,436.92" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="6.5" x="206.7415" y="396.748">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="204.4974" y="425.9121">1</text></g><!--link Role to RoleType--><g class="link" data-entity-1="Role" data-entity-2="RoleType" data-source-line="37" data-uid="lnk10" id="link_Role_RoleType"><path codeLine="37" d="M187.03,542.12 C177.35,561.35 169.1258,577.6997 159.6458,596.5497" fill="none" id="Role-to-RoleType" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="156.95,601.91,164.5672,595.6668,159.1965,597.4431,157.4202,592.0724,156.95,601.91" style="stroke:#181818;stroke-width:1;"/></g><!--link Role to Permission--><g class="link" data-entity-1="Role" data-entity-2="Permission" data-source-line="38" data-uid="lnk11" id="link_Role_Permission"><path codeLine="38" d="M241.25,542.12 C253.3,564.16 264.2704,584.1962 275.4904,604.7062" fill="none" id="Role-to-Permission" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="278.37,609.97,277.5598,600.1545,275.9703,605.5835,270.5414,603.994,278.37,609.97" style="stroke:#181818;stroke-width:1;"/></g><!--SRC=[fLAnRiCW5Dpp5K-UaZOUkbkMt8OXKXnREEaQKPkwRcs800zHbNyl1YTGMvsw83ZUtRjtS2Rb5waf16SgkaRAXhESjqrv2U1x0L2sH4h89tSGHKbT2reJHG5phk9uA0O8OSTP3M-SY6fRtQ16gYWbJBSHYLQfMKUPYg6RGj8G7ZMTjvGmA0bR6hrUKh6jrfuFS7PN8uiOdR7FRnxMUY3qSgkjQ6lCsx9tmRir74qnA6xh3vUpvGoRWNTTw4MxRDG5PjFeH92vcYGncz6buWoEoDtb98P65gIZWpr_gjMaweD85y_opwJC55A9lbIsOHIzahQdaBrzqj9xo5a68rvG5Jdrs9EN_t14MT-vbjP3SSmHFYMRTBitvvSiJT7-u25vLhYZq_5QMQKDsg43EZrd2TvOAOmI3p3KsISFdWBWOGZ1Gp1_S4sOVuAXCWnZmyJs8Kt60uPTZ7VCjLnSVm00]--></g></svg>